(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[181],{4975:function(n,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/query/explain/[planId]",function(){return i(6318)}])},7015:function(n,e,i){"use strict";i.d(e,{AC:function(){return b},FZ:function(){return f},WC:function(){return j},ZP:function(){return m}});var r=i(5893);i(7294);var t=i(244),s=i(9807),a=i(5605),c=i(6777),d=i(3978),l=i(9417),u=i(918),o=i(1664),h=i.n(o);function x(n,e,i,r,t){return{planId:n,cost:e,databases:i,isDefault:r,queries:t}}var f=[441,829],b=[350,625],j=function(){return[x("268ca404-09ba-4b3b-9584-0ba6ceb8c408",f[0],["Neo4j","MongoDB"],!0,["MATCH (customer:Customer)-[:ORDERED]->(order:Order)\nRETURN customer.name AS customerName, order.number AS orderNumber",'db.order.find({\n  items: {\n    name: "Lord of the Rings"\n  }\n},\n{\n  _id: 0,\n  number: 1,\n  productName: {\n    "$getField": {\n      field: "name",\n      input: {\n        "$first": {\n          "$filter": {\n            input: "$items",\n            cond: {\n              $eq: [\n                "$$this.name",\n                "Lord of the Rings"\n              ]\n            }\n          }\n        }\n      }\n    }\n  }\n})',]),x("b158d3d9-034b-407c-98cb-ac3d9ccf88ab",f[1],["PostgreSQL","Cassandra","MongoDB"],!1,["SELECT id, name\nFROM customer","SELECT customer_id, order_number\nFROM orders",'db.order.find({\n  items: {\n    name: "Lord of the Rings"\n  }\n},\n{\n  _id: 0,\n  number: 1,\n  productName: {\n    "$getField": {\n      field: "name",\n      input: {\n        "$first": {\n          "$filter": {\n            input: "$items",\n            cond: {\n              $eq: [\n                "$$this.name",\n                "Lord of the Rings"\n              ]\n            }\n          }\n        }\n      }\n    }\n  }\n})',]),]};function m(){return(0,r.jsx)(c.Z,{component:u.Z,children:(0,r.jsxs)(t.Z,{sx:{minWidth:650},"aria-label":"execution plans table",children:[(0,r.jsx)(d.Z,{children:(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(a.Z,{children:"Plan\xa0ID"}),(0,r.jsx)(a.Z,{align:"right",children:"Plan\xa0Cost"}),(0,r.jsx)(a.Z,{align:"right",children:"Databases\xa0Used"}),(0,r.jsx)(a.Z,{align:"right",children:"More\xa0Details"})]})}),(0,r.jsx)(s.Z,{children:j().map(function(n){return(0,r.jsxs)(l.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,r.jsxs)(a.Z,{component:"th",scope:"row",children:[n.planId,n.isDefault?" (default)":""]}),(0,r.jsx)(a.Z,{align:"right",children:n.cost}),(0,r.jsx)(a.Z,{align:"right",children:n.databases.join(", ")}),(0,r.jsx)(a.Z,{align:"right",children:(0,r.jsx)(h(),{href:"explain/".concat(n.planId),children:"Plan\xa0Details"})})]},n.planId)})})]})})}},6318:function(n,e,i){"use strict";i.r(e);var r=i(5893),t=i(9072),s=i(2851),a=i(9144),c=i(5084),d=i(1953),l=i(1664),u=i.n(l),o=i(1163),h=i(7294),x=i(368),f=i(7015),b=function(){var n=(0,o.useRouter)().query.planId,e="268ca404-09ba-4b3b-9584-0ba6ceb8c408"===n?x.v.Query1:x.v.Query2,i=(0,f.WC)().find(function(e){return e.planId===n}),l=(0,f.WC)().findIndex(function(e){return e.planId===n}),b=(0,h.useReducer)(function(n){return n+1},0),j=(b[0],b[1]),m=[];return m.push((0,r.jsx)(t.ZP,{item:!0,children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"Plan ID: "}),n]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"Plan cost: "}),null==i?void 0:i.cost]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"Databases used: "}),null==i?void 0:i.databases.join(", ")]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"Is default plan: "}),(null==i?void 0:i.isDefault)?"Yes":"No"]})]})})),null==i||i.databases.forEach(function(e,a){m.push((0,r.jsx)(t.ZP,{item:!0,width:"100%",children:(0,r.jsx)(s.Z,{label:e,defaultValue:null==i?void 0:i.queries[a],multiline:!0,fullWidth:!0,spellCheck:!1,maxRows:"268ca404-09ba-4b3b-9584-0ba6ceb8c408"===n?12:7,minRows:"268ca404-09ba-4b3b-9584-0ba6ceb8c408"===n?12:7})}))}),m.push((0,r.jsx)(t.ZP,{item:!0,children:(0,r.jsxs)(a.Z,{spacing:2,direction:"row",children:[(0,r.jsx)(c.Z,{variant:"contained",children:(0,r.jsx)(u(),{href:"/query/execute",children:"Execute plan"})}),(0,r.jsx)(c.Z,{variant:"outlined",onClick:function(){f.FZ[l]=f.AC[l],j()},children:"Recalculate plan cost"}),(0,r.jsx)(c.Z,{variant:"outlined",children:(0,r.jsx)(u(),{href:"/query/explain",children:"Back"})})]})})),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(d.Z,{sx:{flexGrow:1,height:"100%"},children:(0,r.jsxs)(t.ZP,{container:!0,columnSpacing:2,sx:{height:"100%"},children:[(0,r.jsx)(t.ZP,{item:!0,xs:6,children:(0,r.jsx)(x.Z,{schemaCategory:void 0,contentKind:e})}),(0,r.jsx)(t.ZP,{item:!0,xs:6,children:(0,r.jsx)(t.ZP,{container:!0,height:"100%",flexDirection:"column",justifyContent:"space-between",alignItems:"stretch",children:m})})]})})})};e.default=b}},function(n){n.O(0,[998,72,278,494,368,774,888,179],function(){return n(n.s=4975)}),_N_E=n.O()}]);